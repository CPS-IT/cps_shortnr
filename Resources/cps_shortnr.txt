cps_shortnr = COA
cps_shortnr {
	10 = LOAD_REGISTER
	10 {
		match_1.data = register:tx_cpsshortnr_match_1
		match_2 {
			data = register:tx_cpsshortnr_match_2
			postUserFunc = PageNotFoundController->checkPidInRootline
		}
		match_3 {
			data = register:tx_cpsshortnr_match_3
			substring = 1
		}
	}

	20 = CASE
	20 {
		key.data = register:match_1

		P = TEXT
		P {
			typolink {
				parameter.data = register:match_2
				addQueryString = 1
				returnLast = url
				additionalParams.wrap = &L=|
				additionalParams.data = register:match_3
			}
		}
		p < .P
	}
}
